{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:9000/\";\nconst headers = {\n  'Content-Type': 'application/json',\n  'Access-Control-Allow-Origin': '*'\n};\n\nclass AuthService {\n  login(username, password) {\n    return axios.post(API_URL + \"login\", {\n      username,\n      password\n    }, {\n      headers: headers\n    }).then(response => {\n      if (response.data) {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      }\n\n      return response.data;\n    });\n  }\n\n  logout() {\n    console.log(\"remove user token\");\n    localStorage.removeItem(\"user\");\n  }\n\n  register(firstname, lastname, email, usertype, password, userid) {\n    return axios.post(API_URL + \"register\", {\n      firstname,\n      lastname,\n      email,\n      usertype,\n      password,\n      userid\n    }).then(response => {\n      return response.data;\n    });\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem(\"user\"));\n    ;\n  }\n\n  registerEmail(email) {\n    return axios.post(API_URL + \"Newsletter\", {\n      email\n    }, {\n      headers: headers\n    });\n  }\n\n  getProfile(username) {\n    return axios.post(API_URL + \"profile\", {\n      username\n    }, {\n      headers: this.authHeader()\n    }).then(response => {\n      return response.data;\n    });\n  }\n\n  authHeader() {\n    const userData = JSON.parse(localStorage.getItem(\"user\"));\n\n    if (userData.token) {\n      return {\n        'token': userData.token\n      };\n    } else {\n      return {};\n    }\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["/Users/bharathi/Desktop/Startwell-working/Startwell_current/Client/src/services/auth.service.js"],"names":["axios","API_URL","headers","AuthService","login","username","password","post","then","response","data","localStorage","setItem","JSON","stringify","logout","console","log","removeItem","register","firstname","lastname","email","usertype","userid","getCurrentUser","parse","getItem","registerEmail","getProfile","authHeader","userData","token"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,OAAO,GAAG,wBAAhB;AAEA,MAAMC,OAAO,GAAG;AACd,kBAAgB,kBADF;AAEd,iCAAgC;AAFlB,CAAhB;;AAKA,MAAMC,WAAN,CAAkB;AAChBC,EAAAA,KAAK,CAACC,QAAD,EAAWC,QAAX,EAAqB;AACxB,WAAON,KAAK,CACTO,IADI,CACCN,OAAO,GAAG,OADX,EACoB;AACvBI,MAAAA,QADuB;AAEvBC,MAAAA;AAFuB,KADpB,EAIH;AACAJ,MAAAA,OAAO,EAAEA;AADT,KAJG,EAOJM,IAPI,CAOCC,QAAQ,IAAI;AAEhB,UAAIA,QAAQ,CAACC,IAAb,EAAmB;AACjBC,QAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeL,QAAQ,CAACC,IAAxB,CAA7B;AACD;;AAED,aAAOD,QAAQ,CAACC,IAAhB;AACD,KAdI,CAAP;AAeD;;AAEDK,EAAAA,MAAM,GAAG;AACPC,IAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACAN,IAAAA,YAAY,CAACO,UAAb,CAAwB,MAAxB;AACD;;AAEDC,EAAAA,QAAQ,CAACC,SAAD,EAAWC,QAAX,EAAoBC,KAApB,EAA0BC,QAA1B,EAAmCjB,QAAnC,EAA4CkB,MAA5C,EAAoD;AAC1D,WAAOxB,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAG,UAArB,EAAiC;AACtCmB,MAAAA,SADsC;AAC5BC,MAAAA,QAD4B;AACnBC,MAAAA,KADmB;AACbC,MAAAA,QADa;AACJjB,MAAAA,QADI;AACKkB,MAAAA;AADL,KAAjC,EAGNhB,IAHM,CAGDC,QAAQ,IAAI;AAChB,aAAOA,QAAQ,CAACC,IAAhB;AACD,KALM,CAAP;AAOD;;AAEDe,EAAAA,cAAc,GAAG;AACf,WAAOZ,IAAI,CAACa,KAAL,CAAWf,YAAY,CAACgB,OAAb,CAAqB,MAArB,CAAX,CAAP;AAAgD;AACjD;;AAEFC,EAAAA,aAAa,CAACN,KAAD,EACZ;AACF,WAAOtB,KAAK,CAACO,IAAN,CAAWN,OAAO,GAAC,YAAnB,EAAiC;AAACqB,MAAAA;AAAD,KAAjC,EAAyC;AAC9CpB,MAAAA,OAAO,EAAEA;AADqC,KAAzC,CAAP;AAIE;;AAGD2B,EAAAA,UAAU,CAACxB,QAAD,EAAW;AACpB,WAAOL,KAAK,CACTO,IADI,CACCN,OAAO,GAAG,SADX,EACsB;AACzBI,MAAAA;AADyB,KADtB,EAGH;AACAH,MAAAA,OAAO,EAAE,KAAK4B,UAAL;AADT,KAHG,EAMJtB,IANI,CAMCC,QAAQ,IAAI;AAChB,aAAOA,QAAQ,CAACC,IAAhB;AACD,KARI,CAAP;AASD;;AAIAoB,EAAAA,UAAU,GAAG;AACX,UAAMC,QAAQ,GAAGlB,IAAI,CAACa,KAAL,CAAWf,YAAY,CAACgB,OAAb,CAAqB,MAArB,CAAX,CAAjB;;AACA,QAAGI,QAAQ,CAACC,KAAZ,EACA;AACE,aAAO;AAAE,iBAAUD,QAAQ,CAACC;AAArB,OAAP;AACD,KAHD,MAGO;AACL,aAAO,EAAP;AACD;AACF;;AArEgB;;AAwElB,eAAe,IAAI7B,WAAJ,EAAf","sourcesContent":["\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:9000/\";\n\nconst headers = {\n  'Content-Type': 'application/json',\n  'Access-Control-Allow-Origin' : '*'\n}\n\nclass AuthService {\n  login(username, password) {\n    return axios\n      .post(API_URL + \"login\", {\n        username,\n        password\n      },{\n        headers: headers\n      })\n      .then(response => {\n\n        if (response.data) {\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    console.log(\"remove user token\");\n    localStorage.removeItem(\"user\");\n  }\n\n  register(firstname,lastname,email,usertype,password,userid) {\n    return axios.post(API_URL + \"register\", {\n      firstname,lastname,email,usertype,password,userid\n    })\n    .then(response => {\n      return response.data;\n    });\n\n  }\n\n  getCurrentUser() {\n    return JSON.parse(localStorage.getItem(\"user\"));;\n  }\n\n registerEmail(email) \n  {\nreturn axios.post(API_URL+\"Newsletter\", {email},{\n  headers: headers\n});\n     \n }\n\n \n getProfile(username) {\n  return axios\n    .post(API_URL + \"profile\", {\n      username\n    },{\n      headers: this.authHeader()\n    })\n    .then(response => {\n      return response.data;\n    });\n}\n\n\n\n authHeader() {\n   const userData = JSON.parse(localStorage.getItem(\"user\"));\n   if(userData.token) \n   {\n     return { 'token' : userData.token };\n   } else {\n     return {};\n   }\n }\n}\n\nexport default new AuthService();\n\n"]},"metadata":{},"sourceType":"module"}